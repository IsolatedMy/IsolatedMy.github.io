---
title: git 笔记(一)
comments: true
mathjax: true
layout: articles
toc: true
tags: ["git", "note"]
---

在git的使用过程中，经常遇到想要使用某个功能但想不起来的情况。这篇文章的作用就是作为git使用的备忘录。

<!--more-->

#### 本地重命名分支

```shell
git branch -m <old_name> <new_name>
```

#### git reset回退后找回最新版本

参考[回答](https://zhidao.baidu.com/question/1449480910374451900.html)。可以使用`git reflog`命令查看本地的操作记录

```
2edbe84 (HEAD -> dev) HEAD@{0}: reset: moving to 2edbe
a7e47a1 HEAD@{1}: commit: fix bugs
```

可以看到最近的两次提交记录，利用

```
git reset --hard a7e47a1
```

可以回到reset之前的那次commit。

#### tag相关操作

查看tag

```
git tag
```

在某个commit记录上打tag

```
git tag <tag_name> <commit_SHA_checksum>
```

本地tag推送到远端

```
git push origin <tag_name>
```

本地删除tag

```
git tag -d <tag_name>
```

在删除本地tag之后再删除远端tag

```
git push origin :refs/tags/<tag_name>
```

#### 拉取远端分支到本地

参考[博客](https://blog.csdn.net/carfge/article/details/79691360)，不过我的情况是远端创建了新的分支，想要在本地创建一个新的分支将其拉过来。首先把远程分支拉到本地：

```
git fetch origin <remote-branch-name>
```

其中`<remote-branch-name>`是远程仓库的分支名。接着再本地创建新的分支并切换到该分支：

```
git checkout -b <local-branch-name> origin/<remote-branch-name>
```

最后把远程分支上的内容都拉取到本地

```
git pull origin <remote-branch-name>
```

#### 创建远端分支

参考[链接](https://blog.csdn.net/github_38395241/article/details/77198673)。假定当前分支为master，需要创建的分支是my-test，则首先需要在本地创建my-test分支：

```shell
$ git checkout -b my-test 
```

接着将本地分支推送到远端

```sh
$ git push origin my-test 
```

此时其实已经完成了远端分支的创建。但为了之后使用方便，我们再将远端分支与本地分支关联：

```sh
$ git branch --set-upstream-to=origin/my-test 
```

可以通过`git branch -a`查看远端分支的情况。
